<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Noel Surprise | IUH Memories</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        :root { --gold: #ffd700; --red: #d41414; --dark: #000428; }
        
        body { 
            margin: 0; background: var(--dark); color: white; 
            font-family: 'Montserrat', sans-serif; overflow-x: hidden; text-align: center; 
        }

        #snow { position: fixed; top: 0; left: 0; z-index: 1; pointer-events: none; } /* Quan tr·ªçng: pointer-events: none ƒë·ªÉ kh√¥ng ch·∫∑n chu·ªôt */

        .container { position: relative; z-index: 10; max-width: 1100px; margin: 0 auto; padding: 40px 20px; }
        
        h1 { font-family: 'Dancing Script', cursive; font-size: 3.5rem; color: var(--gold); text-shadow: 0 0 20px rgba(255,215,0,0.5); }

        .gallery { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin: 40px 0; }
        
        .card { height: 480px; perspective: 1000px; position: relative; }
        .card-inner { position: relative; width: 100%; height: 100%; transition: transform 0.8s; transform-style: preserve-3d; }
        
        /* Class l·∫≠t th·∫ª */
        .card.flipped .card-inner { transform: rotateY(180deg); }
        
        .card-front, .card-back { 
            position: absolute; width: 100%; height: 100%; 
            backface-visibility: hidden; border-radius: 20px; 
            border: 2px solid var(--gold); overflow: hidden;
        }

        /* M·∫∑t tr∆∞·ªõc c√≥ √¥ nh·∫≠p li·ªáu */
        .card-front { 
            background: rgba(255,255,255,0.1); 
            display: flex; flex-direction: column; align-items: center; justify-content: center; 
            padding: 25px; box-sizing: border-box; z-index: 2;
        }

        .card-front input { 
            padding: 12px 15px; border-radius: 25px; border: 2px solid var(--gold); 
            width: 85%; background: white; color: #333; text-align: center; 
            margin: 20px 0; font-size: 1rem; position: relative; z-index: 30; /* ƒê∆∞a √¥ nh·∫≠p l√™n cao nh·∫•t */
        }

        .btn-unlock { 
            background: var(--red); color: white; border: none; 
            padding: 12px 30px; border-radius: 25px; cursor: pointer; 
            font-weight: 600; font-size: 1rem; transition: 0.3s;
        }

        .card-back { transform: rotateY(180deg); background: black; }
        .card-back img { width: 100%; height: 100%; object-fit: cover; }

        /* H·ªôp qu√† cu·ªëi c√πng */
        #final-gift { margin-top: 50px; display: none; }
        .gift-box { font-size: 100px; cursor: pointer; transition: 0.3s; display: inline-block; animation: shake 1s infinite; }
        @keyframes shake { 0%, 100% { transform: rotate(0); } 25% { transform: rotate(5deg); } 75% { transform: rotate(-5deg); } }

        /* Modal l·ªùi ch√∫c */
        .modal { 
            position: fixed; inset: 0; background: rgba(0,0,0,0.9); 
            display: none; align-items: center; justify-content: center; z-index: 1000; padding: 20px; 
        }
        .modal-content { background: white; color: #333; padding: 40px; border-radius: 25px; max-width: 450px; }
    </style>
</head>
<body>

<canvas id="snow"></canvas>

<div class="container">
    <p style="letter-spacing: 2px;">GI√ÅNG SINH 2025</p>
    <h1>The Memory Challenge</h1>
    <p>Nh·∫≠p ƒë√∫ng ƒë√°p √°n v√†o √¥ tr·∫Øng ƒë·ªÉ m·ªü ·∫£nh nh√© c·ªët!</p>

    <div class="gallery">
        <div class="card" id="card-1">
            <div class="card-inner">
                <div class="card-front">
                    <span style="font-size: 3rem;">üìú</span>
                    <p>Gi·∫£i th∆∞·ªüng Nghi√™n c·ª©u khoa h·ªçc 2025 c·ªßa ch√∫ng m√¨nh l√† l·∫ßn th·ª© m·∫•y?</p>
                    <input type="text" id="ans-1" placeholder="Nh·∫≠p s·ªë...">
                    <button class="btn-unlock" onclick="checkAnswer(1, '6')">Gi·∫£i m√£</button>
                </div>
                <div class="card-back">
                    <img src="z7359898596073_15b805cd78c74c271d25501f7cf09984.jpg">
                </div>
            </div>
        </div>

        <div class="card" id="card-2">
            <div class="card-inner">
                <div class="card-front">
                    <span style="font-size: 3rem;">üåä</span>
                    <p>B√¥ng hoa b·∫°n c√†i tr√™n t√≥c trong ·∫£nh ·ªü bi·ªÉn t√™n l√† g√¨?</p>
                    <input type="text" id="ans-2" placeholder="Hoa g√¨ nh·ªâ?">
                    <button class="btn-unlock" onclick="checkAnswer(2, 'Hoa s·ª©')">M·ªü kh√≥a</button>
                </div>
                <div class="card-back">
                    <img src="z7359898526021_f6bfa468476d02c307178b0f887e920e.jpg">
                </div>
            </div>
        </div>

        <div class="card" id="card-3">
            <div class="card-inner">
                <div class="card-front">
                    <span style="font-size: 3rem;">üéì</span>
                    <p>T√™n khoa c·ªßa t·ª•i m√¨nh l√† g√¨? (Ghi ƒë·∫ßy ƒë·ªß tr√™n gi·∫•y)</p>
                    <input type="text" id="ans-3" placeholder="Khoa Th∆∞∆°ng m·∫°i - ...">
                    <button class="btn-unlock" onclick="checkAnswer(3, 'Th∆∞∆°ng m·∫°i - Du l·ªãch')">Xem ·∫£nh</button>
                </div>
                <div class="card-back">
                    <img src="z7359898573104_1bdcab24ce0eb48479d4e8b71d9b2fad.jpg">
                </div>
            </div>
        </div>
    </div>

    <div id="final-gift">
        <h2 style="color: var(--gold); font-family: 'Dancing Script', cursive;">Tuy·ªát v·ªùi! M·ªü qu√† th√¥i!</h2>
        <div class="gift-box" onclick="showFinal()">üéÅ</div>
    </div>
</div>

<div class="modal" id="wishModal">
    <div class="modal-content">
        <h2 style="font-family: 'Dancing Script'; color: var(--red); font-size: 2.5rem;">Merry Christmas!</h2>
        <p>Ch√∫c c·ªët m·ªôt m√πa Noel ·∫•m √°p, lu√¥n xinh ƒë·∫πp v√† ƒë·∫°t k·∫øt qu·∫£ cao trong h·ªçc t·∫≠p nh√©. M√£i l√† b·∫°n t·ªët c·ªßa nhau!</p>
        <button class="btn-unlock" onclick="document.getElementById('wishModal').style.display='none'">Y√™u c·ªët! ‚ù§Ô∏è</button>
    </div>
</div>

<script>
    let solveCount = 0;

    function checkAnswer(id, correct) {
        const userAns = document.getElementById('ans-' + id).value.trim();
        if (userAns.toLowerCase() === correct.toLowerCase()) {
            document.getElementById('card-' + id).classList.add('flipped');
            solveCount++;
            confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });

            if (solveCount === 3) {
                setTimeout(() => {
                    document.getElementById('final-gift').style.display = 'block';
                    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
                }, 1000);
            }
        } else {
            alert("Sai r·ªìi n√®! Nh·ªõ l·∫°i ch√∫t ƒëi m√†.");
        }
    }

    function showFinal() {
        document.getElementById('wishModal').style.display = 'flex';
        confetti({ particleCount: 400, spread: 100, origin: { y: 0.5 } });
    }

    // Tuy·∫øt r∆°i kh√¥ng ch·∫∑n chu·ªôt
    const canvas = document.getElementById('snow');
    const ctx = canvas.getContext('2d');
    let w = canvas.width = window.innerWidth, h = canvas.height = window.innerHeight;
    const p = Array.from({length:100}, () => ({x:Math.random()*w, y:Math.random()*h, r:Math.random()*3+1, d:Math.random()*1}));
    function draw() {
        ctx.clearRect(0,0,w,h); ctx.fillStyle="white"; ctx.beginPath();
        p.forEach(s => { ctx.moveTo(s.x, s.y); ctx.arc(s.x, s.y, s.r, 0, Math.PI*2); });
        ctx.fill();
        p.forEach(s => { s.y += s.d+1; if(s.y > h) s.y = -10; });
        requestAnimationFrame(draw);
    }
    draw();
</script>

</body>
</html>
